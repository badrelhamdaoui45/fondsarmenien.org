import{D as C,r as E,d as v,E as k,o as r,j as n,F as m,m as y,p as w,b as c,t as R,a as S,w as f,h as T,l as a,k as h,z as $,e as A}from"./entry.e63a48cf.js";import{u as B,a as D,_ as N}from"./useFetchAllProjectsCategories.35c8bf61.js";import{u as V,_ as q}from"./pagination.vue.2bccee0f.js";import"./image.vue.316cf01f.js";import"./content-helpers.dcdddb83.js";import"./utils.fa833de9.js";import"./helpers.44798cb7.js";const F=()=>{let i=C();return{currentFilter:E(i.query.category||null)}},z={class:"flex justify-center gap-3 flex-wrap"},J=["href"],L=v({__name:"categories-filterer",props:{categories:{}},setup(i){let e=k();const{currentFilter:t}=F(),l=o=>e.resolve({query:{category:o??void 0}}).href;return(o,p)=>(r(),n("div",z,[(r(!0),n(m,null,y(o.categories,s=>(r(),n("a",{key:s.id,class:w(["button-filter",{active:c(t)==s.id}]),href:l(s.id)},R(s.name),11,J))),128))]))}}),O={class:"mb-16"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10"},U={class:"border-b py-5"},G=a("div",{class:"flex justify-center mt-10"},[a("a",{href:"/carte-des-projets",class:"button-big-orange"},[a("i",{class:"fa-solid fa-map"}),$(" CARTE DES PROJETS ")])],-1),Z=v({__name:"index",async setup(i){let e,t;S({title:"LES PROJETS"});const{currentPage:l}=V(),{currentFilter:o}=F(),{projects:p,totalPages:s}=([e,t]=f(()=>B(l,o,6)),e=await e,t(),e),{projectCategories:d}=([e,t]=f(()=>D()),e=await e,t(),e),j=T(()=>{var u;return[{name:"Tous",id:null},...d.value!=null?(u=d.value)==null?void 0:u.map(_=>({name:_.name,id:_.slug})):[]]});return(u,_)=>{const P=L,b=N,x=q;return r(),n(m,null,[a("div",O,[h(P,{categories:c(j)},null,8,["categories"])]),a("div",H,[(r(!0),n(m,null,y(c(p),g=>(r(),A(b,{key:g.id,item:g},null,8,["item"]))),128))]),a("div",U,[h(x,{"total-pages":c(s)},null,8,["total-pages"])]),G],64)}}});export{Z as default};
