import{_ as y}from"./text-separator.vue.c4c05178.js";import{_ as v}from"./content-displayer.vue.980eb093.js";import{s as b,q as p,d as x,u as w,w as j,c as C,a as T,o as m,j as _,b as a,k as d,B as E,z as R,t as B,l as o,f as F,F as N,C as S}from"./entry.e63a48cf.js";import{f as k}from"./helpers.44798cb7.js";import{a as A,g as P,b as V}from"./content-helpers.dcdddb83.js";import"./tabs.vue.52d49960.js";import"./utils.fa833de9.js";import"./image.vue.316cf01f.js";import"./youtube.cde79204.js";import"./index.0df3a175.js";const H=async r=>{const{$directus:e}=p(),{data:s}=await b("oneProject",async()=>{const n=await e.items("projects").readByQuery({filter:{slug:{_eq:r}},fields:[...k(3),"thumbnail.*","category.*"],limit:1});return n.data==null?null:n.data[0]});return{project:s}},O={key:0},$={class:"text-center font-title font-bold text-2xl tracking-wider my-10 uppercase"},D=["innerHTML"],M={class:"mt-10"},U={class:"projects-content"},q=S('<div class="flex flex-wrap justify-center gap-8 mt-10"><a href="/les-projets" class="button-big-orange"><i class="fa-solid fa-reply-all"></i> RETOUR AUX PROJETS </a><a href="/carte-des-projets" class="button-big-orange"><i class="fa-solid fa-map"></i> CARTE DES PROJETS </a></div>',1),et=x({__name:"[slug]",async setup(r){var i,l,c,u;let e,s;const n=w(),{project:t}=([e,s]=j(()=>H(n.params.slug)),e=await e,s(),e);if(!t.value)throw C({statusCode:404});const{$imageUrl:f}=p();return T({title:A(t.value.title),description:P(t.value.content,160),thumbnail:{url:f((i=t.value)==null?void 0:i.thumbnail.id),type:(l=t.value)==null?void 0:l.thumbnail.type,width:(c=t.value)==null?void 0:c.thumbnail.width,height:(u=t.value)==null?void 0:u.thumbnail.height}}),(J,L)=>{const h=y,g=v;return m(),_(N,null,[a(t)!=null?(m(),_("div",O,[d(h,{color:"orange"},{default:E(()=>[R(B(a(t).category.name),1)]),_:1}),o("h2",$,[o("span",{innerHTML:a(V)(a(t).title)},null,8,D)]),o("div",M,[o("div",U,[d(g,{"content-elements":a(t).content,meta:{has_small_padding:a(t).has_small_padding}},null,8,["content-elements","meta"])])])])):F("",!0),q],64)}}});export{et as default};
